# Demo: JMS → pipeline → Kafka (with observability, resilience, replay, hold/release)

server.port=8081

# Virtual threads for IO-bound scaling
spring.threads.virtual.enabled=true

# Disable HTTP transport so this demo uses JMS only for inbound
connector.servers.http.enabled=false
connector.servers.jms.enabled=true

# Actuator: connector control (start/stop), health, info
management.endpoints.web.exposure.include=connector,health,info
management.endpoint.health.show-details=when_authorized

# Embedded Artemis JMS: pre-create queue
spring.artemis.embedded.enabled=true
spring.artemis.embedded.queues=connector-in

# Kafka (override with profile for real broker)
spring.kafka.bootstrap-servers=localhost:9092
connector.demo.kafka.topic=connector-out

# Resilience on Kafka outbound (Retry, Bulkhead, RateLimiter)
connector.demo.resilience.enabled=true

# Journal: H2 in-memory
spring.datasource.url=jdbc:h2:mem:connector_demo;DB_CLOSE_DELAY=-1
spring.sql.init.schema-locations=classpath:schema.sql
spring.datasource.driver-class-name=org.h2.Driver
spring.sql.init.mode=always
